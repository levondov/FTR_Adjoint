\hypertarget{class_moments_1_1_moment_solver}{}\doxysection{Moments.\+Moment\+Solver Class Reference}
\label{class_moments_1_1_moment_solver}\index{Moments.MomentSolver@{Moments.MomentSolver}}


The Moments class solves the moment equations and adjoint equations.  


\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a3b39c911d042050633d752e0e9b78c68}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, \mbox{\hyperlink{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}{energy}}=10e3, \mbox{\hyperlink{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}{current}}=0.\+0, \mbox{\hyperlink{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}{pipe\+Radius}}=0.\+0, initial\+Moments=None)
\begin{DoxyCompactList}\small\item\em instance attributes \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_ab1f3c67679404230fe4a581e58331b74}{Create\+Lattice\+Profile}} (self, dB=\mbox{[}1.\+0\mbox{]}, qstart=\mbox{[}0.\+0\mbox{]}, qend=\mbox{[}0.\+1\mbox{]}, qrot=\mbox{[}0.\+0\mbox{]}, \mbox{\hyperlink{class_moments_1_1_moment_solver_ae5604b9136d6aeee4950df5bccf85e17}{zstart}}=0, \mbox{\hyperlink{class_moments_1_1_moment_solver_ae1282575cf9f43a2dc43a9c070c20263}{zend}}=1, repeat=1, verbose=False)
\begin{DoxyCompactList}\small\item\em Creates the lattice magnet profile that will be integrated. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_afe64c01bdd8a7a86bf38c9a844b618b7}{Run\+Moments}} (self, verbose=False)
\begin{DoxyCompactList}\small\item\em Run the moment equations through the lattice. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a84555a18679c500c3ffd94714dd65dd1}{Run\+Moments\+Adjoint}} (self, verbose=False)
\begin{DoxyCompactList}\small\item\em Run the adjoint moment equations backwards through the lattice. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_ad57164fbc898a0825fc22894c8fc02b4}{Calculate\+Beam\+Properties}} (self)
\begin{DoxyCompactList}\small\item\em Recalculate beam properties such as perveance and rigidity. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_af4c5cf9a4f374544895d09a21928acb0}{Get\+COM}} (self, \mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}})
\begin{DoxyCompactList}\small\item\em Return the constant of motion (COM) from the moment equations. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_abb36f939520f4fe11ebeb0744d0b0c7e}{Get\+Fo\+MAnd\+DFoM}} (self, Y=None)
\begin{DoxyCompactList}\small\item\em Calculate and return the FoM and partial derivatives of the FoM. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a92f4b9c78c9e0be878e933ba91fdf720}{Get\+Adjoint\+Integral}} (self, \mbox{\hyperlink{class_moments_1_1_moment_solver_a66a71f05ccc134e7768da9821bda47b3}{Omat}}, \mbox{\hyperlink{class_moments_1_1_moment_solver_a573f6683b3f8f860dcd8af603851b9a0}{Nmat}})
\begin{DoxyCompactList}\small\item\em Calculate the adjoint variation integral. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a9118d7ab7ea2bf6a0b7f9fe23a32de75}{Recalculate\+ON}} (self)
\begin{DoxyCompactList}\small\item\em Recalculate the O and N matrices using the current lattice. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a692d4c6c2e1bdb4265a2f5e32823df6a}{Plot\+Beam\+Size}} (self, use\+Adjoint\+Variables=False)
\begin{DoxyCompactList}\small\item\em Plot the beam size after running a moment solution. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}{energy}}
\begin{DoxyCompactList}\small\item\em Particle beam energy \mbox{[}eV\mbox{]}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}{current}}
\begin{DoxyCompactList}\small\item\em Particle beam current \mbox{[}A\mbox{]}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}{pipe\+Radius}}
\begin{DoxyCompactList}\small\item\em Vacuum pipe radius \mbox{[}m\mbox{]}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}{rigidity}}
\begin{DoxyCompactList}\small\item\em Beam Rigidity. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}
\begin{DoxyCompactList}\small\item\em Beam perveance, a measure of space charge. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}{lattice}}
\begin{DoxyCompactList}\small\item\em Accelerator lattice variable. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a12c5635f327114e902ec6f1081996d51}{lattice\+Reversed}}
\begin{DoxyCompactList}\small\item\em Reversed Accelerator lattice variable for adjoint equation integration. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_ae5604b9136d6aeee4950df5bccf85e17}{zstart}}
\begin{DoxyCompactList}\small\item\em The starting z position of the lattice \mbox{[}m\mbox{]}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_ae1282575cf9f43a2dc43a9c070c20263}{zend}}
\begin{DoxyCompactList}\small\item\em The ending z position of the lattice \mbox{[}m\mbox{]}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_abe095a79419757c5306065395c585614}{h}}
\begin{DoxyCompactList}\small\item\em integration step size \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a00973ac8c1e491be3db7c19133a70531}{h\+Reversed}}
\begin{DoxyCompactList}\small\item\em reversed integration step size \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}
\begin{DoxyCompactList}\small\item\em z position of the moment solution \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}}
\begin{DoxyCompactList}\small\item\em Solution to all the 10 moment variables at each z position. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a97cb0df4d5b1da51bc9d585e05886ef6}{k}}
\begin{DoxyCompactList}\small\item\em quadrupole strength k \mbox{[}1/m$^\wedge$2\mbox{]} at each z position \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a3f7a965902a692079e31c517534e9e9e}{y\+Ori}}
\begin{DoxyCompactList}\small\item\em A reverse integration of the moment equations; this should be equal to self.\+y. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_ab7f187aff0a8dd9afad13caa89181271}{y\+Adj}}
\begin{DoxyCompactList}\small\item\em Solution to the adjoint moment variables at each z position. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a17e353fd4fd355de5d1f5b7c5fa78f19}{z\+Adj}}
\begin{DoxyCompactList}\small\item\em z position of the adjoint moment solution; this should be equal to self.\+z \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_aa90dc1afc391920e06d5e66146748a5f}{k\+Adj}}
\begin{DoxyCompactList}\small\item\em quadrupole strength k \mbox{[}1/m$^\wedge$2\mbox{]} at each z position; this should match self.\+k \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a965ed8edb4ada13242bd97f0b7d984df}{k0}}
\begin{DoxyCompactList}\small\item\em normalization factor in the FoM \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a66a71f05ccc134e7768da9821bda47b3}{Omat}}
\begin{DoxyCompactList}\small\item\em O matrix calculated during the moment equation integration at each z value. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a573f6683b3f8f860dcd8af603851b9a0}{Nmat}}
\begin{DoxyCompactList}\small\item\em N matrix calculated during the moment equation integration at each z value. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_a79ee16dcd120c89870894c8fed5ae25e}{initial\+Conditions}}
\begin{DoxyCompactList}\small\item\em Initial moment values for the integration. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_moments_1_1_moment_solver_aeb64430a1136bf2ab121f8385977ca58}{initial\+Moments\+Adjoint}}
\begin{DoxyCompactList}\small\item\em Initial moment values for the reverse adjoint integration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a209312167367a05653af1f60365de585}{\+\_\+\+\_\+\+Get\+\_\+beamridg\+\_\+and\+\_\+perv}} (self, \mbox{\hyperlink{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}{energy}}=5e3, \mbox{\hyperlink{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}{current}}=0.\+0)
\begin{DoxyCompactList}\small\item\em Calculates and returns the beam ridgidity and perveance. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_aaaf3b24bc45b737ccff3a1389d0ad8ed}{\+\_\+\+\_\+ode3}} (self, F, \mbox{\hyperlink{class_moments_1_1_moment_solver_abe095a79419757c5306065395c585614}{h}}, y0, \mbox{\hyperlink{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}{lattice}}, verbose=False)
\begin{DoxyCompactList}\small\item\em The main integrator that solves the moment and adjoint equations. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}{\+\_\+\+\_\+ode\+\_\+moments}} (self, \mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}, Y, dB, rot)
\begin{DoxyCompactList}\small\item\em Main function that solves the moment equations for all 11 moments. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a5b832ceb0a245d4d449fe18eccee807c}{\+\_\+\+\_\+ode\+\_\+moments\+\_\+adjoint}} (self, \mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}, Yt, dB, rot)
\begin{DoxyCompactList}\small\item\em Main function that solves the adjoint moment equations for all 10 moments. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a06127b2362c3fac711f48dfbbc338941}{\+\_\+\+\_\+calc\+ON}} (self, Y, k\+\_\+sol, k\+\_\+quad, cq, sq, ab4, ca\+\_\+ab4, sa\+\_\+ab4)
\begin{DoxyCompactList}\small\item\em Helper function for \mbox{\hyperlink{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}{\+\_\+\+\_\+ode\+\_\+moments()}} that calculates the O and N matrices in the moment equations See Tom\textquotesingle{}s notes for the definitions of these matrices. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_moments_1_1_moment_solver_a381bc8a00843b7464e52b500cd0d5943}{\+\_\+\+\_\+\+Get\+SCVM}} (self, Y)
\begin{DoxyCompactList}\small\item\em Calculate the space charge variation matrices used in the adjoint equations. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The Moments class solves the moment equations and adjoint equations. 

Definition at line \mbox{\hyperlink{_moments_8py_source_l00014}{14}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_moments_1_1_moment_solver_a3b39c911d042050633d752e0e9b78c68}\label{class_moments_1_1_moment_solver_a3b39c911d042050633d752e0e9b78c68}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{energy = {\ttfamily 10e3},  }\item[{}]{current = {\ttfamily 0.0},  }\item[{}]{pipe\+Radius = {\ttfamily 0.0},  }\item[{}]{initial\+Moments = {\ttfamily None} }\end{DoxyParamCaption})}



instance attributes 


\begin{DoxyParams}{Parameters}
{\em energy} & Beam energy \\
\hline
{\em current} & Beam current \\
\hline
{\em pipe\+Radius} & vacuum pipe radius used in image force calculations. A value of 0.\+0 means the image force calculation is ignored \\
\hline
{\em initial\+Moments} & Initial moment values for the integration \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00021}{21}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_moments_1_1_moment_solver_a06127b2362c3fac711f48dfbbc338941}\label{class_moments_1_1_moment_solver_a06127b2362c3fac711f48dfbbc338941}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!\_\_calcON@{\_\_calcON}}
\index{\_\_calcON@{\_\_calcON}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{\_\_calcON()}{\_\_calcON()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+\_\+\+\_\+calc\+ON (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{Y,  }\item[{}]{k\+\_\+sol,  }\item[{}]{k\+\_\+quad,  }\item[{}]{cq,  }\item[{}]{sq,  }\item[{}]{ab4,  }\item[{}]{ca\+\_\+ab4,  }\item[{}]{sa\+\_\+ab4 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Helper function for \mbox{\hyperlink{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}{\+\_\+\+\_\+ode\+\_\+moments()}} that calculates the O and N matrices in the moment equations See Tom\textquotesingle{}s notes for the definitions of these matrices. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00603}{603}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a209312167367a05653af1f60365de585}\label{class_moments_1_1_moment_solver_a209312167367a05653af1f60365de585}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!\_\_Get\_beamridg\_and\_perv@{\_\_Get\_beamridg\_and\_perv}}
\index{\_\_Get\_beamridg\_and\_perv@{\_\_Get\_beamridg\_and\_perv}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{\_\_Get\_beamridg\_and\_perv()}{\_\_Get\_beamridg\_and\_perv()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+\_\+\+\_\+\+Get\+\_\+beamridg\+\_\+and\+\_\+perv (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{energy = {\ttfamily 5e3},  }\item[{}]{current = {\ttfamily 0.0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Calculates and returns the beam ridgidity and perveance. 


\begin{DoxyParams}{Parameters}
{\em energy} & The beam energy \mbox{[}eV\mbox{]} \\
\hline
{\em current} & The beam current \mbox{[}A\mbox{]} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00343}{343}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a381bc8a00843b7464e52b500cd0d5943}\label{class_moments_1_1_moment_solver_a381bc8a00843b7464e52b500cd0d5943}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!\_\_GetSCVM@{\_\_GetSCVM}}
\index{\_\_GetSCVM@{\_\_GetSCVM}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{\_\_GetSCVM()}{\_\_GetSCVM()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+\_\+\+\_\+\+Get\+SCVM (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{Y }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Calculate the space charge variation matrices used in the adjoint equations. 


\begin{DoxyParams}{Parameters}
{\em Y} & A vector of the 10 moment values \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00659}{659}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_aaaf3b24bc45b737ccff3a1389d0ad8ed}\label{class_moments_1_1_moment_solver_aaaf3b24bc45b737ccff3a1389d0ad8ed}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!\_\_ode3@{\_\_ode3}}
\index{\_\_ode3@{\_\_ode3}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{\_\_ode3()}{\_\_ode3()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+\_\+\+\_\+ode3 (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{F,  }\item[{}]{h,  }\item[{}]{y0,  }\item[{}]{lattice,  }\item[{}]{verbose = {\ttfamily False} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



The main integrator that solves the moment and adjoint equations. 

Based on a third order Runge-\/\+Kutta method This functions goes through each element and integrates the moment equations through a given quadrupole field profile


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em F} & Reference to the function being solved, in this case \mbox{\hyperlink{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}{\+\_\+\+\_\+ode\+\_\+moments()}} \\
\hline
\mbox{\texttt{ in}}  & {\em h} & The integration step size, see self.\+h and self.\+h\+Reversed @paran\mbox{[}in\mbox{]} y0 The initial conditions for the integration. \\
\hline
\mbox{\texttt{ in}}  & {\em The} & lattice used for the integration \\
\hline
\mbox{\texttt{ in}}  & {\em verbose} & Print out verbose info while running the integration\\
\hline
\mbox{\texttt{ out}}  & {\em tout} & The independent variable of the integration \\
\hline
\mbox{\texttt{ out}}  & {\em yout} & The dependent variable of the integration as a function of tout \\
\hline
\mbox{\texttt{ out}}  & {\em kval} & The quadrupole strength as a function of tout \\
\hline
\mbox{\texttt{ out}}  & {\em Oval} & The O matrix values as a function of tout \\
\hline
\mbox{\texttt{ out}}  & {\em Nval} & The N matrix values as a function of tout \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00375}{375}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}\label{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!\_\_ode\_moments@{\_\_ode\_moments}}
\index{\_\_ode\_moments@{\_\_ode\_moments}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{\_\_ode\_moments()}{\_\_ode\_moments()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+\_\+\+\_\+ode\+\_\+moments (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{z,  }\item[{}]{Y,  }\item[{}]{dB,  }\item[{}]{rot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Main function that solves the moment equations for all 11 moments. 

This should not be called directly. Only the integrator ode3() should be calling this as it is integrating through the equations


\begin{DoxyParams}{Parameters}
{\em z} & The z step to use \mbox{[}m\mbox{]} \\
\hline
{\em Y} & The value of the 11 moments at the particular z value \\
\hline
{\em dB} & The quadrupole gradient \mbox{[}T/m\mbox{]} at the particular z value \\
\hline
{\em rot} & The quadrupole rotation angle in radians\\
\hline
\end{DoxyParams}
\begin{DoxyVerb}Main function that solves Tom's moment equations

Y(1) - Q+
Y(2) - Q-
Y(3) - Qx
Y(4) - P+
Y(5) - P-
Y(6) - Px
Y(7) - E+
Y(8) - E-
Y(9) - Ex
Y(10) - L
Y(11) - phi (solenoid related variable)\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{_moments_8py_source_l00445}{445}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a5b832ceb0a245d4d449fe18eccee807c}\label{class_moments_1_1_moment_solver_a5b832ceb0a245d4d449fe18eccee807c}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!\_\_ode\_moments\_adjoint@{\_\_ode\_moments\_adjoint}}
\index{\_\_ode\_moments\_adjoint@{\_\_ode\_moments\_adjoint}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{\_\_ode\_moments\_adjoint()}{\_\_ode\_moments\_adjoint()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+\_\+\+\_\+ode\+\_\+moments\+\_\+adjoint (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{z,  }\item[{}]{Yt,  }\item[{}]{dB,  }\item[{}]{rot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Main function that solves the adjoint moment equations for all 10 moments. 

This should not be called directly. Only the integrator ode3() should be calling this as it is integrating through the equations


\begin{DoxyParams}{Parameters}
{\em z} & The z step to use \mbox{[}m\mbox{]} \\
\hline
{\em Yt} & The value of the 22 moments at the particular z value. This contains the original 11 moments + the 11 adjoint moments for a total of a 22 variable to solve for \\
\hline
{\em dB} & The quadrupole gradient \mbox{[}T/m\mbox{]} at the particular z value \\
\hline
{\em rot} & The quadrupole rotation angle in radians ~\newline
 \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00512}{512}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ad57164fbc898a0825fc22894c8fc02b4}\label{class_moments_1_1_moment_solver_ad57164fbc898a0825fc22894c8fc02b4}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!CalculateBeamProperties@{CalculateBeamProperties}}
\index{CalculateBeamProperties@{CalculateBeamProperties}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{CalculateBeamProperties()}{CalculateBeamProperties()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Calculate\+Beam\+Properties (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Recalculate beam properties such as perveance and rigidity. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00227}{227}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ab1f3c67679404230fe4a581e58331b74}\label{class_moments_1_1_moment_solver_ab1f3c67679404230fe4a581e58331b74}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!CreateLatticeProfile@{CreateLatticeProfile}}
\index{CreateLatticeProfile@{CreateLatticeProfile}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{CreateLatticeProfile()}{CreateLatticeProfile()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Create\+Lattice\+Profile (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{dB = {\ttfamily \mbox{[}1.0\mbox{]}},  }\item[{}]{qstart = {\ttfamily \mbox{[}0.0\mbox{]}},  }\item[{}]{qend = {\ttfamily \mbox{[}0.1\mbox{]}},  }\item[{}]{qrot = {\ttfamily \mbox{[}0.0\mbox{]}},  }\item[{}]{zstart = {\ttfamily 0},  }\item[{}]{zend = {\ttfamily 1},  }\item[{}]{repeat = {\ttfamily 1},  }\item[{}]{verbose = {\ttfamily False} }\end{DoxyParamCaption})}



Creates the lattice magnet profile that will be integrated. 

The lengths of dB, qstart, and qend should be equal. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dB} & The quadrupole magnet field gradient d\+B/dm \mbox{[}T/m\mbox{]} \\
\hline
\mbox{\texttt{ in}}  & {\em qstart} & The z start position for the quadrupole magnet \mbox{[}m\mbox{]} \\
\hline
\mbox{\texttt{ in}}  & {\em qend} & The z end position for the quadrupole magnet \mbox{[}m\mbox{]} \\
\hline
\mbox{\texttt{ in}}  & {\em qrot} & The quad rotation angle \mbox{[}radians\mbox{]} \\
\hline
\mbox{\texttt{ in}}  & {\em zstart} & The z starting position of the lattice \mbox{[}m\mbox{]} \\
\hline
\mbox{\texttt{ in}}  & {\em zend} & The z ending position of the lattice \mbox{[}m\mbox{]} \\
\hline
\mbox{\texttt{ in}}  & {\em repeat} & The periodicity of the lattice, e.\+g. repeat X times \\
\hline
\mbox{\texttt{ in}}  & {\em verbose} & Verbose diagnostics output \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00104}{104}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a92f4b9c78c9e0be878e933ba91fdf720}\label{class_moments_1_1_moment_solver_a92f4b9c78c9e0be878e933ba91fdf720}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!GetAdjointIntegral@{GetAdjointIntegral}}
\index{GetAdjointIntegral@{GetAdjointIntegral}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{GetAdjointIntegral()}{GetAdjointIntegral()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Get\+Adjoint\+Integral (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{Omat,  }\item[{}]{Nmat }\end{DoxyParamCaption})}



Calculate the adjoint variation integral. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em Omat} & The O matrix to use in the calculation \\
\hline
\mbox{\texttt{ in}}  & {\em Nmat} & The N matrix to use in the calculation \\
\hline
\mbox{\texttt{ out}}  & {\em int\+Val} & integral value, see Tom\textquotesingle{}s notes \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00323}{323}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_af4c5cf9a4f374544895d09a21928acb0}\label{class_moments_1_1_moment_solver_af4c5cf9a4f374544895d09a21928acb0}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!GetCOM@{GetCOM}}
\index{GetCOM@{GetCOM}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{GetCOM()}{GetCOM()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Get\+COM (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{y }\end{DoxyParamCaption})}



Return the constant of motion (COM) from the moment equations. 

See Tom\textquotesingle{}s notes


\begin{DoxyParams}{Parameters}
{\em y} & All 10 moment values at a particular z to calculate the constant of motion \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00234}{234}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_abb36f939520f4fe11ebeb0744d0b0c7e}\label{class_moments_1_1_moment_solver_abb36f939520f4fe11ebeb0744d0b0c7e}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!GetFoMAndDFoM@{GetFoMAndDFoM}}
\index{GetFoMAndDFoM@{GetFoMAndDFoM}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{GetFoMAndDFoM()}{GetFoMAndDFoM()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Get\+Fo\+MAnd\+DFoM (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{Y = {\ttfamily None} }\end{DoxyParamCaption})}



Calculate and return the FoM and partial derivatives of the FoM. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em Y} & The moment solutions as a function of z. The output from \mbox{\hyperlink{class_moments_1_1_moment_solver_afe64c01bdd8a7a86bf38c9a844b618b7}{Run\+Moments()}}\\
\hline
\mbox{\texttt{ out}}  & {\em FoM} & Calculated FoM \\
\hline
\mbox{\texttt{ out}}  & {\em Fo\+Mp} & Calculated FoM pieces \\
\hline
\mbox{\texttt{ out}}  & {\em d\+Fo\+Mp} & Calculated variation of the FoM pieces \\
\hline
\mbox{\texttt{ out}}  & {\em d\+Fo\+Mp\+Final} & Calculated initial conditions for adjoint integration \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00250}{250}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a692d4c6c2e1bdb4265a2f5e32823df6a}\label{class_moments_1_1_moment_solver_a692d4c6c2e1bdb4265a2f5e32823df6a}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!PlotBeamSize@{PlotBeamSize}}
\index{PlotBeamSize@{PlotBeamSize}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{PlotBeamSize()}{PlotBeamSize()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Plot\+Beam\+Size (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{use\+Adjoint\+Variables = {\ttfamily False} }\end{DoxyParamCaption})}



Plot the beam size after running a moment solution. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00701}{701}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a9118d7ab7ea2bf6a0b7f9fe23a32de75}\label{class_moments_1_1_moment_solver_a9118d7ab7ea2bf6a0b7f9fe23a32de75}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!RecalculateON@{RecalculateON}}
\index{RecalculateON@{RecalculateON}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{RecalculateON()}{RecalculateON()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Recalculate\+ON (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Recalculate the O and N matrices using the current lattice. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em Onew} & The new O matrix \\
\hline
\mbox{\texttt{ out}}  & {\em Nnew} & The new N matrix \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00621}{621}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_afe64c01bdd8a7a86bf38c9a844b618b7}\label{class_moments_1_1_moment_solver_afe64c01bdd8a7a86bf38c9a844b618b7}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!RunMoments@{RunMoments}}
\index{RunMoments@{RunMoments}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{RunMoments()}{RunMoments()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Run\+Moments (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{verbose = {\ttfamily False} }\end{DoxyParamCaption})}



Run the moment equations through the lattice. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em verbose} & verbose diagnostics print statements \\
\hline
\mbox{\texttt{ out}}  & {\em z} & longitudinal Z position of the integration. The independent variable. \\
\hline
\mbox{\texttt{ out}}  & {\em y} & Solutions to the 11 moment variables at each Z position. \\
\hline
\mbox{\texttt{ out}}  & {\em motion} & Constant of motion value at each Z position. \\
\hline
\mbox{\texttt{ out}}  & {\em k} & The quadrupole strength value at each Z position. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00172}{172}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a84555a18679c500c3ffd94714dd65dd1}\label{class_moments_1_1_moment_solver_a84555a18679c500c3ffd94714dd65dd1}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!RunMomentsAdjoint@{RunMomentsAdjoint}}
\index{RunMomentsAdjoint@{RunMomentsAdjoint}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{RunMomentsAdjoint()}{RunMomentsAdjoint()}}
{\footnotesize\ttfamily def Moments.\+Moment\+Solver.\+Run\+Moments\+Adjoint (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{verbose = {\ttfamily False} }\end{DoxyParamCaption})}



Run the adjoint moment equations backwards through the lattice. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em verbose} & verbose diagnostics print statements \\
\hline
\mbox{\texttt{ out}}  & {\em z} & longitudinal Z position of the integration. The independent variable. \\
\hline
\mbox{\texttt{ out}}  & {\em y\+\_\+mom} & Solutions to the 11 moment variables at each Z position. \\
\hline
\mbox{\texttt{ out}}  & {\em y\+\_\+adj} & Solutions to the 11 adjoint moment variables at each Z position \\
\hline
\mbox{\texttt{ out}}  & {\em motion} & Constant of motion value at each Z position. \\
\hline
\mbox{\texttt{ out}}  & {\em k} & The quadrupole strength value at each Z position. ~\newline
 \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_moments_8py_source_l00203}{203}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}\label{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!current@{current}}
\index{current@{current}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{current}{current}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+current}



Particle beam current \mbox{[}A\mbox{]}. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00027}{27}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}\label{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!energy@{energy}}
\index{energy@{energy}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{energy}{energy}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+energy}



Particle beam energy \mbox{[}eV\mbox{]}. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00025}{25}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_abe095a79419757c5306065395c585614}\label{class_moments_1_1_moment_solver_abe095a79419757c5306065395c585614}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!h@{h}}
\index{h@{h}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{h}{h}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+h}



integration step size 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00048}{48}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a00973ac8c1e491be3db7c19133a70531}\label{class_moments_1_1_moment_solver_a00973ac8c1e491be3db7c19133a70531}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!hReversed@{hReversed}}
\index{hReversed@{hReversed}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{hReversed}{hReversed}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+h\+Reversed}



reversed integration step size 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00050}{50}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a79ee16dcd120c89870894c8fed5ae25e}\label{class_moments_1_1_moment_solver_a79ee16dcd120c89870894c8fed5ae25e}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!initialConditions@{initialConditions}}
\index{initialConditions@{initialConditions}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{initialConditions}{initialConditions}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+initial\+Conditions}



Initial moment values for the integration. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00075}{75}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_aeb64430a1136bf2ab121f8385977ca58}\label{class_moments_1_1_moment_solver_aeb64430a1136bf2ab121f8385977ca58}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!initialMomentsAdjoint@{initialMomentsAdjoint}}
\index{initialMomentsAdjoint@{initialMomentsAdjoint}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{initialMomentsAdjoint}{initialMomentsAdjoint}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+initial\+Moments\+Adjoint}



Initial moment values for the reverse adjoint integration. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00092}{92}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a97cb0df4d5b1da51bc9d585e05886ef6}\label{class_moments_1_1_moment_solver_a97cb0df4d5b1da51bc9d585e05886ef6}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!k@{k}}
\index{k@{k}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{k}{k}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+k}



quadrupole strength k \mbox{[}1/m$^\wedge$2\mbox{]} at each z position 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00057}{57}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a965ed8edb4ada13242bd97f0b7d984df}\label{class_moments_1_1_moment_solver_a965ed8edb4ada13242bd97f0b7d984df}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!k0@{k0}}
\index{k0@{k0}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{k0}{k0}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+k0}



normalization factor in the FoM 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00068}{68}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_aa90dc1afc391920e06d5e66146748a5f}\label{class_moments_1_1_moment_solver_aa90dc1afc391920e06d5e66146748a5f}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!kAdj@{kAdj}}
\index{kAdj@{kAdj}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{kAdj}{kAdj}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+k\+Adj}



quadrupole strength k \mbox{[}1/m$^\wedge$2\mbox{]} at each z position; this should match self.\+k 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00065}{65}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}\label{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!lattice@{lattice}}
\index{lattice@{lattice}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{lattice}{lattice}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+lattice}



Accelerator lattice variable. 

See \mbox{\hyperlink{class_moments_1_1_moment_solver_ab1f3c67679404230fe4a581e58331b74}{Create\+Lattice\+Profile()}} 

Definition at line \mbox{\hyperlink{_moments_8py_source_l00039}{39}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a12c5635f327114e902ec6f1081996d51}\label{class_moments_1_1_moment_solver_a12c5635f327114e902ec6f1081996d51}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!latticeReversed@{latticeReversed}}
\index{latticeReversed@{latticeReversed}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{latticeReversed}{latticeReversed}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+lattice\+Reversed}



Reversed Accelerator lattice variable for adjoint equation integration. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00041}{41}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a573f6683b3f8f860dcd8af603851b9a0}\label{class_moments_1_1_moment_solver_a573f6683b3f8f860dcd8af603851b9a0}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!Nmat@{Nmat}}
\index{Nmat@{Nmat}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{Nmat}{Nmat}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+Nmat}



N matrix calculated during the moment equation integration at each z value. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00072}{72}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a66a71f05ccc134e7768da9821bda47b3}\label{class_moments_1_1_moment_solver_a66a71f05ccc134e7768da9821bda47b3}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!Omat@{Omat}}
\index{Omat@{Omat}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{Omat}{Omat}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+Omat}



O matrix calculated during the moment equation integration at each z value. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00070}{70}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}\label{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!perveance@{perveance}}
\index{perveance@{perveance}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{perveance}{perveance}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+perveance}



Beam perveance, a measure of space charge. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00033}{33}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}\label{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!pipeRadius@{pipeRadius}}
\index{pipeRadius@{pipeRadius}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{pipeRadius}{pipeRadius}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+pipe\+Radius}



Vacuum pipe radius \mbox{[}m\mbox{]}. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00029}{29}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}\label{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!rigidity@{rigidity}}
\index{rigidity@{rigidity}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{rigidity}{rigidity}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+rigidity}



Beam Rigidity. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00031}{31}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}\label{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!y@{y}}
\index{y@{y}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{y}{y}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+y}



Solution to all the 10 moment variables at each z position. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00055}{55}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ab7f187aff0a8dd9afad13caa89181271}\label{class_moments_1_1_moment_solver_ab7f187aff0a8dd9afad13caa89181271}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!yAdj@{yAdj}}
\index{yAdj@{yAdj}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{yAdj}{yAdj}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+y\+Adj}



Solution to the adjoint moment variables at each z position. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00061}{61}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a3f7a965902a692079e31c517534e9e9e}\label{class_moments_1_1_moment_solver_a3f7a965902a692079e31c517534e9e9e}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!yOri@{yOri}}
\index{yOri@{yOri}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{yOri}{yOri}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+y\+Ori}



A reverse integration of the moment equations; this should be equal to self.\+y. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00059}{59}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}\label{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!z@{z}}
\index{z@{z}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{z}{z}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+z}



z position of the moment solution 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00053}{53}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_a17e353fd4fd355de5d1f5b7c5fa78f19}\label{class_moments_1_1_moment_solver_a17e353fd4fd355de5d1f5b7c5fa78f19}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!zAdj@{zAdj}}
\index{zAdj@{zAdj}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{zAdj}{zAdj}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+z\+Adj}



z position of the adjoint moment solution; this should be equal to self.\+z 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00063}{63}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ae1282575cf9f43a2dc43a9c070c20263}\label{class_moments_1_1_moment_solver_ae1282575cf9f43a2dc43a9c070c20263}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!zend@{zend}}
\index{zend@{zend}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{zend}{zend}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+zend}



The ending z position of the lattice \mbox{[}m\mbox{]}. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00045}{45}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.

\mbox{\Hypertarget{class_moments_1_1_moment_solver_ae5604b9136d6aeee4950df5bccf85e17}\label{class_moments_1_1_moment_solver_ae5604b9136d6aeee4950df5bccf85e17}} 
\index{Moments.MomentSolver@{Moments.MomentSolver}!zstart@{zstart}}
\index{zstart@{zstart}!Moments.MomentSolver@{Moments.MomentSolver}}
\doxysubsubsection{\texorpdfstring{zstart}{zstart}}
{\footnotesize\ttfamily Moments.\+Moment\+Solver.\+zstart}



The starting z position of the lattice \mbox{[}m\mbox{]}. 



Definition at line \mbox{\hyperlink{_moments_8py_source_l00043}{43}} of file \mbox{\hyperlink{_moments_8py_source}{Moments.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/levon/\+Downloads/\+FTR\+\_\+\+Adjoint/\+Py\+Version/\+Periodic\+Version2/Moments.\+py\end{DoxyCompactItemize}
