\hypertarget{_moments_8py_source}{}\doxysection{Moments.\+py}
\label{_moments_8py_source}\index{C:/Users/levon/Downloads/FTR\_Adjoint/PyVersion/PeriodicVersion/Moments.py@{C:/Users/levon/Downloads/FTR\_Adjoint/PyVersion/PeriodicVersion/Moments.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00001}00001 \textcolor{comment}{\# -\/*-\/ coding: utf-\/8 -\/*-\/}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00002}00002 \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00003}00003 \textcolor{stringliteral}{Created on Sun Sep 12 12:21:15 2021}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00004}00004 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00005}00005 \textcolor{stringliteral}{@author: levon}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00006}00006 \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00008}00008 \textcolor{keyword}{import} numpy \textcolor{keyword}{as} np}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00009}00009 \textcolor{keyword}{import} matplotlib.pyplot \textcolor{keyword}{as} plt}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00014}\mbox{\hyperlink{class_moments_1_1_moment_solver}{00014}} \textcolor{keyword}{class }\mbox{\hyperlink{class_moments_1_1_moment_solver}{MomentSolver}}:}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00015}00015     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00016}00016     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00021}\mbox{\hyperlink{class_moments_1_1_moment_solver_a3b39c911d042050633d752e0e9b78c68}{00021}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_a3b39c911d042050633d752e0e9b78c68}{\_\_init\_\_}}(self, energy=10e3, current=0.0, pipeRadius=0.0, initialMoments=None):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00022}00022         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00023}00023         \textcolor{comment}{\# grab physics parameters}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00024}00024         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00025}\mbox{\hyperlink{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}{00025}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}{energy}}energy = energy}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00026}00026         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00027}\mbox{\hyperlink{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}{00027}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}{current}}current = current}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00028}00028         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00029}\mbox{\hyperlink{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}{00029}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}{pipeRadius}}pipeRadius = pipeRadius}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00030}00030         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00031}\mbox{\hyperlink{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}{00031}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}{rigidity}}rigidity = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00032}00032         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00033}\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{00033}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance = 0.0}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00034}00034         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00035}00035         \textcolor{comment}{\# generate some more physics parameters}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00036}00036         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}{rigidity}}rigidity, self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance = self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a209312167367a05653af1f60365de585}{\_\_Get\_beamridg\_and\_perv}}\_\_Get\_beamridg\_and\_perv(self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ac526153d8fad64f5085b20965f9f5a32}{energy}}energy, self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a79804fadcd21e90822d030a9b1d01905}{current}}current) }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00037}00037         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00038}00038         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00039}\mbox{\hyperlink{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}{00039}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}{lattice}}lattice = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00040}00040         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00041}\mbox{\hyperlink{class_moments_1_1_moment_solver_ae5604b9136d6aeee4950df5bccf85e17}{00041}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae5604b9136d6aeee4950df5bccf85e17}{zstart}}zstart = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00042}00042         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00043}\mbox{\hyperlink{class_moments_1_1_moment_solver_ae1282575cf9f43a2dc43a9c070c20263}{00043}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae1282575cf9f43a2dc43a9c070c20263}{zend}}zend = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00044}00044         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00045}00045         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00046}\mbox{\hyperlink{class_moments_1_1_moment_solver_abe095a79419757c5306065395c585614}{00046}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_abe095a79419757c5306065395c585614}{h}}h = 0.0001}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00047}00047         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00048}00048         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00049}\mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{00049}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}z = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00050}00050         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00051}\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{00051}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}}y = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00052}00052         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00053}\mbox{\hyperlink{class_moments_1_1_moment_solver_a97cb0df4d5b1da51bc9d585e05886ef6}{00053}}         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a97cb0df4d5b1da51bc9d585e05886ef6}{k}}k = \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00054}00054         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00055}00055         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00056}00056         \textcolor{keywordflow}{if} initialMoments == \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00057}\mbox{\hyperlink{class_moments_1_1_moment_solver_a79ee16dcd120c89870894c8fed5ae25e}{00057}}             self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a79ee16dcd120c89870894c8fed5ae25e}{initialConditions}}initialConditions = [}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00058}00058                 0.5*(2.2581**2*1e-\/6 + 0.2258**2*1e-\/6), \textcolor{comment}{\# Q+}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00059}00059                 0.5*(2.2581**2*1e-\/6 -\/ 0.2258**2*1e-\/6), \textcolor{comment}{\# Q-\/}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00060}00060                 0.0, \textcolor{comment}{\# Qx}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00061}00061                 0.0, \textcolor{comment}{\# P+}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00062}00062                 0.0, \textcolor{comment}{\# P-\/}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00063}00063                 0.0, \textcolor{comment}{\# Px}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00064}00064                 (7.0855**2*1e-\/6 + 0.70855**2*1e-\/6), \textcolor{comment}{\# E+}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00065}00065                 (7.0855**2*1e-\/6 -\/ 0.70855**2*1e-\/6), \textcolor{comment}{\# E-\/}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00066}00066                 0.0, \textcolor{comment}{\# Ex}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00067}00067                 0.0, \textcolor{comment}{\# L}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00068}00068                 0.0  \textcolor{comment}{\# phi , used for solenoid larmor rotations, is always 0 unless we include a solenoid         }}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00069}00069                 ]          }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00070}00070             }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00071}00071         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00072}00072     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00081}\mbox{\hyperlink{class_moments_1_1_moment_solver_ab1f3c67679404230fe4a581e58331b74}{00081}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_ab1f3c67679404230fe4a581e58331b74}{CreateLatticeProfile}}(self, dB=[1.0], qstart=[0.0], qend=[0.1], qrot=[0.0], zstart=0, zend=1, repeat=1, verbose=False):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00082}00082         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00083}00083         Nquads = len(dB) \textcolor{comment}{\# number of quads}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00084}00084         numCols = 4 \textcolor{comment}{\# q start, q end, k strength, q rot}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00085}00085         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00086}00086         tmpLattice = np.zeros((1, numCols))}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00087}00087         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00088}00088         \textcolor{comment}{\# drift from z start to q1 start}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00089}00089         tmpLattice[0,:] = [zstart, qstart[0], 0.0, 0.0]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00090}00090         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00091}00091         \textcolor{comment}{\# loop through each quad and add to the lattice}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00092}00092         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(Nquads):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00093}00093             }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00094}00094             \textcolor{comment}{\# add quad to lattice}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00095}00095             tmpQuadPos = [[qstart[i], qend[i], dB[i], qrot[i]]]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00096}00096             tmpLattice = np.concatenate((tmpLattice, tmpQuadPos), axis=0)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00097}00097             }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00098}00098             \textcolor{comment}{\# if this is not the last quad yet, add in the drift to the next quad}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00099}00099             \textcolor{keywordflow}{if} (i+1) < Nquads:}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00100}00100                 tmpDrftPos = [[qend[i], qstart[i+1], 0.0, 0.0]]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00101}00101                 tmpLattice = np.concatenate((tmpLattice, tmpDrftPos), axis=0)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00102}00102                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00103}00103         \textcolor{comment}{\# drfit from last q end to z end}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00104}00104         tmpDrftPos = [[qend[-\/1], zend, 0.0, 0.0]]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00105}00105         tmpLattice = np.concatenate((tmpLattice, tmpDrftPos), axis=0)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00106}00106         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00107}00107         \textcolor{comment}{\# are we repeating the lattice?}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00108}00108         \textcolor{keywordflow}{if} repeat > 1:}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00109}00109             \textcolor{comment}{\# make a copy of the lattice}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00110}00110             copyTmpLattice = np.copy(tmpLattice)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00111}00111             \textcolor{keywordflow}{for} ii \textcolor{keywordflow}{in} range(repeat-\/1):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00112}00112                 \textcolor{comment}{\# grab the ending location of the last element}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00113}00113                 zendPos = tmpLattice[-\/1,1]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00114}00114                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00115}00115                 \textcolor{comment}{\# create a copy of the lattice}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00116}00116                 newLatticePiece = np.copy(copyTmpLattice)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00117}00117                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00118}00118                 \textcolor{comment}{\# adjust the starting and ending positions of this new piece}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00119}00119                 newLatticePiece[:,0:2] += zendPos}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00120}00120                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00121}00121                 \textcolor{comment}{\# append to the tmp lattce}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00122}00122                 tmpLattice = np.concatenate((tmpLattice, newLatticePiece), axis=0)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00123}00123                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00124}00124                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00125}00125         \textcolor{comment}{\# assign to class parameter}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00126}00126         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}{lattice}}lattice = tmpLattice}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00127}00127         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae5604b9136d6aeee4950df5bccf85e17}{zstart}}zstart = zstart}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00128}00128         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae1282575cf9f43a2dc43a9c070c20263}{zend}}zend = zend}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00129}00129         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00130}00130         \textcolor{keywordflow}{if} verbose:}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00131}00131             print(\textcolor{stringliteral}{'Start | End | k strength | quad rotation'})}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00132}00132             print(self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}{lattice}}lattice)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00134}00134     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00137}\mbox{\hyperlink{class_moments_1_1_moment_solver_afe64c01bdd8a7a86bf38c9a844b618b7}{00137}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_afe64c01bdd8a7a86bf38c9a844b618b7}{RunMoments}}(self, verbose=False):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00138}00138         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00139}00139         odefunc = \textcolor{keyword}{lambda} z,Y,dbdx,rot : self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}{\_\_ode\_moments}}\_\_ode\_moments(z,Y,dbdx,rot)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00140}00140         z,y,k = self.\mbox{\hyperlink{class_moments_1_1_moment_solver_abab80ddf49cdec8ed0bde3f758306bb3}{\_\_ode3}}\_\_ode3(odefunc, verbose=verbose)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00141}00141         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00142}00142         \textcolor{comment}{\# assign variables}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00143}00143         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}z = z}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00144}00144         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}}y = y}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00145}00145         self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a97cb0df4d5b1da51bc9d585e05886ef6}{k}}k = k}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00146}00146     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00147}00147         \textcolor{comment}{\# Constant of Motion \%}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00148}00148         motion = self.\mbox{\hyperlink{class_moments_1_1_moment_solver_af4c5cf9a4f374544895d09a21928acb0}{GetCOM}}GetCOM(y)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00149}00149         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00150}00150         \textcolor{keywordflow}{return} z,y,motion,k  }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00151}00151     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00152}00152     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00153}00153     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00157}\mbox{\hyperlink{class_moments_1_1_moment_solver_a209312167367a05653af1f60365de585}{00157}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_a209312167367a05653af1f60365de585}{\_\_Get\_beamridg\_and\_perv}}(self, energy=5e3, current=0.0):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00158}00158         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00159}00159         \textcolor{comment}{\# Parameters}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00160}00160         e         = 1.60217733E-\/19 \textcolor{comment}{\#C}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00161}00161         m         = 9.1093897E-\/31 \textcolor{comment}{\#kg}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00162}00162         Energy    = energy \textcolor{comment}{\# eV}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00163}00163         c         = 2.997924E8 \textcolor{comment}{\# m/s}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00164}00164     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00165}00165         gamma     = 1+((Energy)/(510998.9461));}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00166}00166         beta      = np.sqrt((gamma*gamma)-\/1)/gamma}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00167}00167         v         = beta*c}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00168}00168         bg        = beta*gamma}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00169}00169         rho       = bg*c*(m/e) }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00170}00170         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00171}00171         k\_perv = (1.0/(4.0*np.pi))*(c*377.0*current) / (m*v**3*gamma**3/e);   }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00172}00172         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00173}00173         \textcolor{keywordflow}{return} rho,k\_perv}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00174}00174     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00175}00175     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00178}\mbox{\hyperlink{class_moments_1_1_moment_solver_af4c5cf9a4f374544895d09a21928acb0}{00178}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_af4c5cf9a4f374544895d09a21928acb0}{GetCOM}}(self, y):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00179}00179         L = y[9,:]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00180}00180         EQ = y[6,:]*y[0,:] + y[7,:]*y[1,:] + y[8,:]*y[2,:]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00181}00181         PP = y[3,:]**2 + y[4,:]**2 + y[5,:]**2}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00182}00182         motion = EQ + (0.5)*L**2 -\/ (0.5)*PP}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00183}00183         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00184}00184         \textcolor{keywordflow}{return} motion}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00185}00185     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00186}00186     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00191}\mbox{\hyperlink{class_moments_1_1_moment_solver_abab80ddf49cdec8ed0bde3f758306bb3}{00191}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_abab80ddf49cdec8ed0bde3f758306bb3}{\_\_ode3}}(self, F, verbose=False):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00192}00192         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00193}00193         y0 = self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a79ee16dcd120c89870894c8fed5ae25e}{initialConditions}}initialConditions}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00194}00194         h = self.\mbox{\hyperlink{class_moments_1_1_moment_solver_abe095a79419757c5306065395c585614}{h}}h}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00195}00195         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00196}00196         yout = np.array([]).reshape(len(y0),0)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00197}00197         tout = np.array([])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00198}00198         kval = np.array([])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00199}00199         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00200}00200         \textcolor{comment}{\# integrate through each element one at a time, making sure to match the initial conditions at the boundary points of elements}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00201}00201         \textcolor{keywordflow}{for} j,elem \textcolor{keywordflow}{in} enumerate(self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a0631c67ede1552b71743b275eb018b51}{lattice}}lattice):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00202}00202         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00203}00203             \textcolor{keywordflow}{if} verbose:}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00204}00204                 print(\textcolor{stringliteral}{"{}Integrating element: "{}}+str(j+1))}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00205}00205                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00206}00206             \textcolor{comment}{\# start, stop, and k value}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00207}00207             t0 = elem[0]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00208}00208             t1 = elem[1]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00209}00209             k = elem[2]}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00210}00210             tsteps = np.arange(t0,t1,h)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00211}00211             tout = np.concatenate((tout,tsteps))}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00212}00212             kval = np.concatenate((kval,[k]*len(tsteps)))}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00213}00213             }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00214}00214             \textcolor{comment}{\# initialize output values for this element}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00215}00215             ytmp = np.zeros((len(y0),len(tsteps)+1)) \textcolor{comment}{\# +1 for initial value}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00216}00216             \textcolor{comment}{\# initial conditions are the very last set of points integrated in the previous element (except for the starting element)}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00217}00217             ytmp[:,0] = yout[:,-\/1] \textcolor{keywordflow}{if} (j > 0) \textcolor{keywordflow}{else} y0}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00218}00218             }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00219}00219             \textcolor{comment}{\# run rk3 ode solver algorithm through the element}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00220}00220             y = ytmp[:,0]        }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00221}00221             \textcolor{keywordflow}{for} i,t \textcolor{keywordflow}{in} enumerate(tsteps):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00222}00222                 t1 = F(t,y,elem[2], elem[3])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00223}00223                 s1 = h*t1}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00224}00224                 t2 = F(t+h/2.0, y+s1/2.0, elem[2], elem[3])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00225}00225                 s2 = h*t2}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00226}00226                 t3 = F(t+h, y-\/s1+2.0*s2, elem[2], elem[3])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00227}00227                 s3 = h*t3}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00228}00228                 y = y + (s1 + 4.0*s2 + s3)/6.0}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00229}00229                 ytmp[:,i+1] = y}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00230}00230             }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00231}00231             \textcolor{comment}{\# append to main output before moving onto next element        }}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00232}00232             yout = np.concatenate((yout,ytmp),1) \textcolor{keywordflow}{if} (j==0) \textcolor{keywordflow}{else} np.concatenate((yout,ytmp[:,1:]),1)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00233}00233     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00234}00234         tout = np.concatenate((tout,np.array([tout[-\/1]+h])))}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00235}00235         kval = np.concatenate((kval,np.array([k])))  }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00236}00236         \textcolor{keywordflow}{return} tout,yout,kval}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00237}00237     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00238}00238     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00246}\mbox{\hyperlink{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}{00246}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_a8474f9bf5f1cc4acbf0fb415f113e5bd}{\_\_ode\_moments}}(self, z, Y, dB, rot):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00247}00247         \textcolor{stringliteral}{'''}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00248}00248 \textcolor{stringliteral}{        Main function that solves Tom's moment equations}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00249}00249 \textcolor{stringliteral}{        }}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00250}00250 \textcolor{stringliteral}{        Y(1) -\/ Q+}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00251}00251 \textcolor{stringliteral}{        Y(2) -\/ Q-\/}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00252}00252 \textcolor{stringliteral}{        Y(3) -\/ Qx}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00253}00253 \textcolor{stringliteral}{        Y(4) -\/ P+}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00254}00254 \textcolor{stringliteral}{        Y(5) -\/ P-\/}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00255}00255 \textcolor{stringliteral}{        Y(6) -\/ Px}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00256}00256 \textcolor{stringliteral}{        Y(7) -\/ E+}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00257}00257 \textcolor{stringliteral}{        Y(8) -\/ E-\/}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00258}00258 \textcolor{stringliteral}{        Y(9) -\/ Ex}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00259}00259 \textcolor{stringliteral}{        Y(10) -\/ L}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00260}00260 \textcolor{stringliteral}{        }}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00261}00261 \textcolor{stringliteral}{        '''}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00262}00262 \textcolor{stringliteral}{    }}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00263}00263 \textcolor{stringliteral}{        }\textcolor{comment}{\# quads}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00264}00264         psi = rot}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00265}00265         k\_sol = 0.0}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00266}00266         k\_quad = dB / self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}{rigidity}}rigidity}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00267}00267                 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00268}00268         \textcolor{comment}{\# cq, sq quad calculations         }}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00269}00269         cq = np.cos(2.0*Y[10]-\/2.0*psi)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00270}00270         sq = np.sin(2.0*Y[10]-\/2.0*psi)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00271}00271         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00272}00272         \textcolor{comment}{\# space charge calculation}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00273}00273         Q\_delta = np.sqrt( Y[0]**2 -\/ Y[1]**2 -\/ Y[2]**2 ) \textcolor{keywordflow}{if} Y[0]**2 -\/ Y[1]**2 -\/ Y[2]**2 >= 0 \textcolor{keywordflow}{else} 2**(-\/64.0)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00274}00274         ab4 = 1.0 / Q\_delta; \textcolor{comment}{\# the 4/ab term in equation}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00275}00275         ca\_ab4 = -\/Y[1] / ( (Y[0]+Q\_delta)*Q\_delta ) \textcolor{comment}{\# 4c\_alpha/ab}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00276}00276         sa\_ab4 = -\/Y[2] / ( (Y[0]+Q\_delta)*Q\_delta ) \textcolor{comment}{\# 4s\_alpha/ab}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00277}00277         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00278}00278         \textcolor{comment}{\# calculate O,N matrix}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00279}00279         O\_mat,N\_mat = self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a06127b2362c3fac711f48dfbbc338941}{\_\_calcON}}\_\_calcON(Y, k\_sol, k\_quad, cq, sq, ab4, ca\_ab4, sa\_ab4)}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00280}00280         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00281}00281         \textcolor{comment}{\# System of 10 equations}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00282}00282         dydt = np.array([}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00283}00283         \textcolor{comment}{\# dQ/dz}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00284}00284         Y[3],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00285}00285         Y[4],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00286}00286         Y[5],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00287}00287         \textcolor{comment}{\# dP/dz}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00288}00288         Y[6] + np.matmul( O\_mat[0,:], np.reshape(Y[0:3],(3,1)) )[0],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00289}00289         Y[7] + np.matmul( O\_mat[1,:], np.reshape(Y[0:3],(3,1)) )[0],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00290}00290         Y[8] + np.matmul( O\_mat[2,:], np.reshape(Y[0:3],(3,1)) )[0],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00291}00291         \textcolor{comment}{\# dE/dz}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00292}00292         np.matmul( O\_mat[0,:], np.reshape(Y[3:6],(3,1)) )[0] + N\_mat[0,0]*Y[9],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00293}00293         np.matmul( O\_mat[1,:], np.reshape(Y[3:6],(3,1)) )[0] + N\_mat[1,0]*Y[9],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00294}00294         np.matmul( O\_mat[2,:], np.reshape(Y[3:6],(3,1)) )[0] + N\_mat[2,0]*Y[9],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00295}00295         \textcolor{comment}{\# dL/dz}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00296}00296         -\/1.0*np.matmul( N\_mat.T, Y[0:3] )[0],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00297}00297         \textcolor{comment}{\# dphi/dz}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00298}00298         -\/1.0*k\_sol/2.0}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00299}00299         ])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00300}00300         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00301}00301         \textcolor{keywordflow}{return} dydt    }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00302}00302     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00303}00303     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00306}\mbox{\hyperlink{class_moments_1_1_moment_solver_a06127b2362c3fac711f48dfbbc338941}{00306}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_a06127b2362c3fac711f48dfbbc338941}{\_\_calcON}}(self, Y, k\_sol, k\_quad, cq, sq, ab4, ca\_ab4, sa\_ab4): }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00307}00307         \textcolor{comment}{\# pipe radius calculation}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00308}00308         pipe\_constant = (8*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance/self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}{pipeRadius}}pipeRadius**4) \textcolor{keywordflow}{if} self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a7b3bcd33ddc430a8736442255950c319}{pipeRadius}}pipeRadius != 0 \textcolor{keywordflow}{else} 0 \textcolor{comment}{\# zero pipe radius leads to infinity}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00309}00309         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00310}00310         \textcolor{comment}{\# O and N matrix calculations}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00311}00311         O\_mat = np.array([[-\/k\_sol**2/2.0 + ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance, 2.0*k\_quad*cq + ca\_ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance, -\/2.0*k\_quad*sq + sa\_ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00312}00312             [2.0*k\_quad*cq + ca\_ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance, -\/k\_sol**2/2.0 + ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance, 0],}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00313}00313             [-\/2.0*k\_quad*sq + sa\_ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance, 0, -\/k\_sol**2/2.0 + ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance]]) + pipe\_constant*np.array([ [0, -\/Y[1], -\/Y[2]],[-\/Y[1], 0, 0],[-\/Y[2], 0, 0] ])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00314}00314     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00315}00315         N\_mat = np.array([[0], [2.0*k\_quad*sq -\/ sa\_ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance], [2.0*k\_quad*cq + ca\_ab4*self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a64fd4003461491515c391e77ce73cd64}{perveance}}perveance]])}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00316}00316         -\/ pipe\_constant*np.array([[0], [-\/Y[2]], [Y[1]]]) \textcolor{comment}{\# pipe radius image forces addition  }}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00317}00317         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00318}00318         \textcolor{keywordflow}{return} O\_mat,N\_mat    }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00319}00319     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00320}00320     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00323}\mbox{\hyperlink{class_moments_1_1_moment_solver_aa090be5d9657dc9f725e50b91fa0fc99}{00323}}     \textcolor{keyword}{def }\mbox{\hyperlink{class_moments_1_1_moment_solver_aa090be5d9657dc9f725e50b91fa0fc99}{PlotBeamSize}}(self):}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00324}00324         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00325}00325         plt.figure()}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00326}00326         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00327}00327         plt.plot(self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}z, self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}}y[0,:] + self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}}y[1,:], label=\textcolor{stringliteral}{'x\string^2'})}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00328}00328         plt.plot(self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}z, self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}}y[0,:] -\/ self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a75f8217447462a1e6ee5aedf7b73b04c}{y}}y[1,:], label=\textcolor{stringliteral}{'y\string^2'})}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00329}00329         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00330}00330         plt.plot(self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ae02b30c3060b89fb57a6682a0b7c8f59}{z}}z, self.\mbox{\hyperlink{class_moments_1_1_moment_solver_a97cb0df4d5b1da51bc9d585e05886ef6}{k}}k / 1e2*1e-\/6*0.2 / self.\mbox{\hyperlink{class_moments_1_1_moment_solver_ac541b4b0cec156c2eeff0706a0b6f971}{rigidity}}rigidity, color=\textcolor{stringliteral}{'k'}, label=\textcolor{stringliteral}{'quad strength'})}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00331}00331         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00332}00332         plt.grid(\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00333}00333         plt.legend()}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00334}00334         \textcolor{comment}{\#plt.show()}}
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00335}00335         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00336}00336 }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00337}00337         }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00338}00338     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00339}00339     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00340}00340     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00341}00341     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00342}00342     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00343}00343     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00344}00344     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00345}00345     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00346}00346     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00347}00347     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00348}00348     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00349}00349     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00350}00350     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00351}00351     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00352}00352     }
\DoxyCodeLine{\Hypertarget{_moments_8py_source_l00353}00353     }

\end{DoxyCode}
